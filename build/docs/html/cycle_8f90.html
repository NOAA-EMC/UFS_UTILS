<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>UFS_UTILS: /home/George.Vandenberghe/gh/git/u2/sorc/global_cycle.fd/cycle.f90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">UFS_UTILS
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Types&#160;List</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('cycle_8f90.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">cycle.f90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Stand alone surface/NSST cycle driver for the cubed-sphere grid.  
<a href="#details">More...</a></p>

<p><a href="cycle_8f90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ac89edbf6e4d215903ed97f53efd74b7f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac89edbf6e4d215903ed97f53efd74b7f"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>adjust_nsst</b> (RLA, RLO, SLMSK_TILE, SLMSK_FG_TILE, SKINT_TILE, SICET_TILE, sice_tile, SOILT_TILE, NSST, LENSFC, LSOIL, IDIM, JDIM, ZSEA1, ZSEA2, MON, DAY, DELTSFC, tf_clm_tile, tf_trd_tile, sal_clm_tile)</td></tr>
<tr class="separator:ac89edbf6e4d215903ed97f53efd74b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46fe0ab692bbe423b224c4c64d6ea687"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a46fe0ab692bbe423b224c4c64d6ea687"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>climo_trend</b> (LATITUDE, MON, DAY, DELTSFC, DTREF)</td></tr>
<tr class="separator:a46fe0ab692bbe423b224c4c64d6ea687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afedff26063b46106a823d209bfd4430e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afedff26063b46106a823d209bfd4430e"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>dtzm_point</b> (XT, XZ, DT_COOL, ZC, Z1, Z2, DTZM)</td></tr>
<tr class="separator:afedff26063b46106a823d209bfd4430e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa5ccf0addd191b13a3bdfb9558a005b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa5ccf0addd191b13a3bdfb9558a005b"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>get_sal_clm</b> (xlats_ij, xlons_ij, ny, nx, iy, im, id, ih, sal_clm)</td></tr>
<tr class="separator:aaa5ccf0addd191b13a3bdfb9558a005b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb5a7888d49b29e0b30e5ca206f7294"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6cb5a7888d49b29e0b30e5ca206f7294"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>get_sal_clm_ta</b> (sal_clm_ta, xlats, xlons, nlat, nlon, mon1, mon2, wei1, wei2)</td></tr>
<tr class="separator:a6cb5a7888d49b29e0b30e5ca206f7294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a9017387ab47706fdac2c2c0593f0a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6a9017387ab47706fdac2c2c0593f0a"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>get_tf_clm</b> (xlats_ij, xlons_ij, ny, nx, iy, im, id, ih, tf_clm, tf_trd)</td></tr>
<tr class="separator:ad6a9017387ab47706fdac2c2c0593f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd48dac426c3c605ce62a2d868a72c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7dd48dac426c3c605ce62a2d868a72c3"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>get_tf_clm_ta</b> (tf_clm_ta, tf_clm_trend, xlats, xlons, nlat, nlon, mon1, mon2, wei1, wei2)</td></tr>
<tr class="separator:a7dd48dac426c3c605ce62a2d868a72c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a250f9e210a13e3bd9b669f904a279d83"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a250f9e210a13e3bd9b669f904a279d83"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>get_tim_wei</b> (iy, im, id, ih, mon1, mon2, wei1, wei2)</td></tr>
<tr class="separator:a250f9e210a13e3bd9b669f904a279d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37a1ed396c350a20fed5c59a05dbb59"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab37a1ed396c350a20fed5c59a05dbb59"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>intp_tile</b> (tf_lalo, dlats_lalo, dlons_lalo, jdim_lalo, idim_lalo, tf_tile, xlats_tile, xlons_tile, jdim_tile, idim_tile)</td></tr>
<tr class="separator:ab37a1ed396c350a20fed5c59a05dbb59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8c1e8a1a1b952babdabb8122a4e2fda"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af8c1e8a1a1b952babdabb8122a4e2fda"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>nsst_water_reset</b> (nsst, ij, tf_thaw)</td></tr>
<tr class="separator:af8c1e8a1a1b952babdabb8122a4e2fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6450955873434d0143c7c117b0997d65"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6450955873434d0143c7c117b0997d65"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>remap_coef</b> (is, ie, js, je, im, jm, lon, lat, id1, id2, jdc, s2c, agrid)</td></tr>
<tr class="separator:a6450955873434d0143c7c117b0997d65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ccda063fdf438966bca8efde5c6cd03"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ccda063fdf438966bca8efde5c6cd03"></a>
program&#160;</td><td class="memItemRight" valign="bottom"><b>sfc_drv</b></td></tr>
<tr class="separator:a9ccda063fdf438966bca8efde5c6cd03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9922bc28a60bdf96a49a8380aa9288f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9922bc28a60bdf96a49a8380aa9288f"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>sfcdrv</b> (LUGB, IDIM, JDIM, LENSFC, LSOIL, DELTSFC, IY, IM, ID, IH, FH, IALB, USE_UFO, DO_NSST, ADJT_NST_ONLY, ZSEA1, ZSEA2, ISOT, IVEGSRC, MYRANK)</td></tr>
<tr class="separator:af9922bc28a60bdf96a49a8380aa9288f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade32d73a7d3d2ee2e9813674aea1f797"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade32d73a7d3d2ee2e9813674aea1f797"></a>
subroutine&#160;</td><td class="memItemRight" valign="bottom"><b>tf_thaw_set</b> (tf_ij, mask_ij, itile, jtile, tice, tclm, tf_thaw, nx, ny, nset_thaw_s, nset_thaw_i, nset_thaw_c)</td></tr>
<tr class="separator:ade32d73a7d3d2ee2e9813674aea1f797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8609bf25108d7ef0c230efe2a92d2517"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8609bf25108d7ef0c230efe2a92d2517"></a>
real function&#160;</td><td class="memItemRight" valign="bottom"><b>tfreez</b> (salinity)</td></tr>
<tr class="separator:a8609bf25108d7ef0c230efe2a92d2517"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stand alone surface/NSST cycle driver for the cubed-sphere grid. </p>
<p>Each cubed-sphere tile runs independently on its own mpi task. The surface update component runs with threads. The NSST update component in not threaded.</p>
<p>The program can be run in the following ways: 1) Update the surface fields only. NSST fields are not processed. Invoke this option by setting namelist variable DONST=.false. Output files only contain surface fields.</p>
<p>2) Update the surface fields and NSST TREF field using GSI increments on the Gaussian grid. All other NSST fields are cycled. Invoke this option by setting namelist variable DONST=.true. and GSI_FILE to the name of the GSI increment file.</p>
<p>3) Update surface and run with NSST, but postpone the TREF update. Here all NSST fields are cycled. But the NSST IFD field is used to flag points that flipped from ice to open water. To invoke this option, set DONST=.true. and GSI_FILE="NULL".</p>
<p>4) Perform the NSST TREF adjustment only. Surface fields are only cycled. To run with this option, set DONST=.true., GSI_FILE to the GSI increment file, and ADJT_NST_ONLY=.true. The input cubed-sphere restart files must be those from option (3).</p>
<p>NOTE: running (3) then (4) is equivalent to running (2).</p>
<h2>INPUT FILES: </h2>
<p>-fngrid.$NNN The cubed-sphere grid file (contains grid point latitude and longitdue). -fnorog.$NNN The cubed-sphere orography file (contains land mask and orography). -fnbgsi.$NNN The cubed-sphere input sfc/nsst restart file. -$GSI_FILE Gaussian GSI file which contains NSST TREF increments</p>
<h2>OUTPUT FILES: </h2>
<p>-fnbgso.$NNN The updated sfc/nsst restart file.</p>
<p>NOTE: $NNN corresponds to (mpi rank + 1) </p>

<p>Definition in file <a class="el" href="cycle_8f90_source.html">cycle.f90</a>.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_75b82e7e4a5feb05200b9ad7adf06257.html">home</a></li><li class="navelem"><a class="el" href="dir_930f33eb779540d7f7c1bc4e9f60c6c3.html">George.Vandenberghe</a></li><li class="navelem"><a class="el" href="dir_15eb563446e3f03882183ae99f4c04ae.html">gh</a></li><li class="navelem"><a class="el" href="dir_51954ab30e21df7c1df2db9108abc59d.html">git</a></li><li class="navelem"><a class="el" href="dir_db7811ab3a716cb1bcd7f249c213dc04.html">u2</a></li><li class="navelem"><a class="el" href="dir_e087b00f0a45c0b2fd8005a19f47bbcb.html">sorc</a></li><li class="navelem"><a class="el" href="dir_e88fc1728c4d327793bc1e9a79284695.html">global_cycle.fd</a></li><li class="navelem"><a class="el" href="cycle_8f90.html">cycle.f90</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
